{% extends "admin_index.html" %}
{% load static %}

{% block overskrift %}
	Grupper og rettigheter
{% endblock overskrift %}

{% block hovedinnhold %}

	<p>Via PRK legges brukeridenter (som f.eks. din bruker) inn i ulike AD-sikkerhetsgrupper. Disse sikkerhetsgruppene er speilet i dette systemet og tildelt ulike rettigheter. For eksempel å kunne opprette et system eller endre på en virksomhet. Rollen "virksomhetsadministrator" skal kunne endre på virksomheter, mens en systemforvalter skal kunne endre på systemer.</p>

	<p>Det er ikke lagt opp til eksplisitt eierskap til data (systemer, behandlinger), men eksempelvis behandlinger og systemer er assosiert med en eller flere virksomheter og enkeltpersoner. Det er mulig å begrense mulighet for å endre et enkelt objekt til en virksomhet eller person, men det må veies opp mot de ulemper slik begrensning vil ha. Det er etablert en regel som hindrer virksomheter å endre/slette behandlinger som tilhører andre virksomheter, men ut over dette er det ingen tekniske hindringer.</p>

	<p>Noe forenklet rollebeskrivelse
	<ul>
		<li>Administrator: Kan se og endre det meste. Noen unntak knyttet til behandlinger og systemer.</li>
		<li>Leverandør: </li>
		<li>Systemforvalter kan endre på systemer. Systemforvalter kan se behandinger registrert på sine systemer. En systemeier tildeles i praksis rollen som systemforvalter.</li>
		<li>Behandlingsansvarlige kan gjøre det samme som systemforvalter, og i tillegg endre på behandlinger i virksomhetens behandlingsprotokoll.</li>
		<li>Systemkategori(forvalter) kan endre på systemkategorier og andre valgbare felt som ønskes standardisert.</li>
		<li>Virksomhets(forvalter) kan endre på detaljer om virksomheter.</li>
		<li>Plattformforvalter kan administrere driftsplattformer.</li>
	</ul>
	</p>

	<hr>

	<table class="table table-sm tablesorter">
		<thead>
			<tr>
				<th>Rettighet</th>
				{% for h in header %}
					<th>{{h}}</th>
				{% endfor %}
			</tr>
		</thead>
		<tbody>
			{% for permission, data in matrise.items %}
			<tr>
				<td>{{permission}}</td>
				{% for checkmark in data %}
					<td>
					{% if checkmark %}
						<span style="color: green; font-size: 18px;">✓</span> Ja
					{% else %}
						<span style="color: red; font-size: 18px;">⨉</span> Nei
					{% endif %}
					</td>
				{% endfor %}
			</tr>
			{% endfor %}
		</tbody>
	</table>

{% endblock hovedinnhold %}