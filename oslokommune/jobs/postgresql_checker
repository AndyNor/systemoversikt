
#!/bin/bash
# Simple script to ensure PostgreSQL is running and show status

SERVICE="postgresql"

if systemctl is-active --quiet "$SERVICE"; then
    echo "$(date '+%Y-%m-%d %H:%M:%S') - PostgreSQL is running."
else
    echo "$(date '+%Y-%m-%d %H:%M:%S') - PostgreSQL is NOT running. Restarting..."
    sudo systemctl restart "$SERVICE"
    if systemctl is-active --quiet "$SERVICE"; then
        echo "$(date '+%Y-%m-%d %H:%M:%S') - PostgreSQL restarted successfully."
    else
        echo "$(date '+%Y-%m-%d %H:%M:%S') - PostgreSQL restart FAILED."
    fi
fi
